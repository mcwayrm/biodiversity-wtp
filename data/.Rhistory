# PROJECT: RUM Model
# PURPOSE: Distance to Observed hotspots
# AUTHOR: Raahil Madhok
# DATE: Oct 25 2020 [created]
### SET-UP
# Directories
rm(list=ls())
setwd('/Users/rmadhok/Dropbox/biodiversity-wtp/data')
# Load Packages
packages <- c('sf', 'tidyverse', 'units')
pacman::p_load(packages, character.only = TRUE, install = FALSE)
ebird <- readRDS('./rds/ebird_trip_clean.rds')
ebird <- ebird %>%
filter(locality_type == 'H') %>%
select(-c(locality_type, locality))
length(unique(ebird$user_id))
ebird$geo_dist <- st_distance(st_as_sf(ebird,
coords = c('lon_home', 'lat_home'),
crs=4326),
st_as_sf(ebird,
coords = c('lon', 'lat'),
crs=4326),
by_element = T) %>% set_units(km)
ebird$geo_dist <- as.numeric(ebird$geo_dist)
View(ebird)
View(ebird)
saveRDS(ebird, './rds/ebird_trip_hotspots.rds')
#============================================================================
# PROJECT: RUM Model
# PURPOSE: Select Choice Set
# AUTHOR: Raahil Madhok
### SET-UP
# Directories
rm(list=ls())
setwd('/Users/rmadhok/Dropbox/biodiversity-wtp/data/')
# Load Packages
#source('/Users/rmadhok/Dropbox/ebird_wtp/scripts/R/functions/choice_set_travel.R')
packages <- c('sf', 'tidyverse', 'data.table')
pacman::p_load(packages, character.only = TRUE, install = FALSE)
hs <- read_csv('./csv/hotspots.csv')
View(hs)
saveRDS(hs, './rds/hotspots.rds')
